<!DOCTYPE html>
<html>

<head>
    <title>Document</title>
</head>

<body>
    <p>Rock Paper Scissors</p>
    <button onclick="
        Random_number();
        userMove = 'Rock';
        check(compMove,userMove)
    ">
        Rock
    </button>
    <button onclick="
        Random_number()
        userMove = 'Paper';
        check(compMove,userMove)
    ">
        Paper
    </button>
    <button onclick="
        Random_number()
        userMove = 'Scissors';
        check(compMove,userMove)
    ">
        Scissors
    </button>
    <button onclick="
        score.wins=0;
        score.draw =0;
        score.loss = 0;
        localStorage.removeItem('score')
    ">Reset Score</button>
    <script>
        let score = JSON.parse(localStorage.getItem('score')) ||
        {
            wins: 0,
            loss: 0,
            draw: 0
        }

        // if (score === null) {
        //     score = {
        //         wins: 0,
        //         loss: 0,
        //         draw: 0
        //     }
        // }
        // if (!score) {
        //     score = {
        //         wins: 0,
        //         loss: 0,
        //         draw: 0
        //     }
        // }
        // console.log(JSON.parse(localStorage.getItem('score')));
        console.log(score)
        let compMove = "";
        let userMove = "";
        const Rock = 1;
        const Paper = 2;
        const Scissors = 3;
        function Random_number() {
            const Random = Math.random();

            if (Random >= 0 && Random <= 1 / 3) {
                compMove = "Rock";
            } else if (Random >= 1 / 3 && Random <= 2 / 3) {
                compMove = "Paper";
            } else if (Random >= 0 && Random <= 1) {
                compMove = "Scissors";
            }
            return compMove;
        }
        function check(compMove, userMove) {
            if (userMove === compMove) {
                score.draw += 1;
                alert(`Draw: Both used${userMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Rock" && userMove === "Scissors") {
                score.loss += 1;
                alert(`You Lost!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Rock" && userMove === "Paper") {
                score.wins += 1;
                alert(`You Won!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Paper" && userMove === "Scissors") {
                score.wins += 1;
                alert(`You Won!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Paper" && userMove === "Rock") {
                score.loss += 1;
                alert(`You Lost!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Scissors" && userMove === "Rock") {
                score.wins += 1;
                alert(`You Won!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            } else if (compMove === "Scissors" && userMove === "Paper") {
                score.loss += 1;
                alert(`You Lost!, You used: ${userMove} and Comp used: ${compMove}\n Score: Wins-${score.wins}, Loss-${score.loss},Draw-${score.draw}`);
            }
            // saving values local storage
            //  only support strings
            localStorage.setItem('score', JSON.stringify(score))
        }

    </script>
</body>

</html>